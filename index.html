<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="한국 기준 근무일/영업일 계산기 - 날짜 범위 계산, N 근무일 이동, 주말·공휴일 옵션" />
  <title>근무일 계산기 | Business Days Calculator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="hero">
    <div class="hero__content">
      <p class="eyebrow">정적 웹 계산기 · 한국 공휴일 반영</p>
      <h1>근무일 계산기</h1>
      <p class="lede">
        날짜 범위의 근무일 수 계산부터 기준일에서 N 근무일 이동까지, 주말/공휴일 옵션과 사용자 지정 휴일을 반영해 정확하게 계산하세요.
      </p>
      <div class="hero__badges">
        <span class="badge">근무일/영업일</span>
        <span class="badge">토요일 포함 여부</span>
        <span class="badge">한국 공휴일</span>
        <span class="badge">커스텀 휴일</span>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="panel">
      <div class="tabs" role="tablist" aria-label="계산 모드 선택">
        <button class="tab tab--active" data-target="range" role="tab" aria-selected="true">날짜 범위 계산</button>
        <button class="tab" data-target="offset" role="tab" aria-selected="false">N 근무일 이동</button>
      </div>

      <section id="range" class="tab-panel tab-panel--active" role="tabpanel">
        <div class="form-grid">
          <label>
            <span>시작일 (Date Start)</span>
            <input type="date" id="startDate" />
          </label>
          <label>
            <span>종료일 (Date End)</span>
            <input type="date" id="endDate" />
          </label>
        </div>
        <div class="options-grid">
          <label class="checkbox">
            <input type="checkbox" id="includeSaturday" />
            <span>토요일 포함</span>
          </label>
          <label class="checkbox">
            <input type="checkbox" id="excludeHolidays" checked />
            <span>한국 공휴일 제외</span>
          </label>
        </div>
        <div class="custom-holiday">
          <label for="customHolidays">사용자 지정 휴일 (콤마 또는 줄바꿈으로 구분)</label>
          <textarea id="customHolidays" rows="2" placeholder="예: 2024-12-24, 2025-01-02"></textarea>
          <p class="hint">입력된 날짜는 공휴일과 함께 제외됩니다.</p>
        </div>
        <div class="actions">
          <button class="primary" id="calculateRange">근무일 계산</button>
          <button class="ghost" id="swapDates">날짜 교환</button>
        </div>
        <div id="rangeError" class="error" role="alert"></div>

        <div class="summary" id="rangeSummary" hidden>
          <h3>결과 요약</h3>
          <dl class="summary__grid">
            <div>
              <dt>총 달력일</dt>
              <dd><span id="calendarDays">-</span>일</dd>
            </div>
            <div>
              <dt>근무일 수</dt>
              <dd><span id="businessDays">-</span>일</dd>
            </div>
            <div>
              <dt>주말 일수</dt>
              <dd><span id="weekendDays">-</span>일</dd>
            </div>
            <div>
              <dt>공휴일 제외</dt>
              <dd><span id="holidayDays">-</span>일</dd>
            </div>
          </dl>
        </div>

        <details class="details" id="rangeDetails" hidden>
          <summary>상세 보기</summary>
          <div class="details__content">
            <div class="chip-row" id="businessDayList"></div>
            <div class="detail-columns">
              <div>
                <h4>제외된 주말</h4>
                <div class="chip-row" id="weekendList"></div>
              </div>
              <div>
                <h4>제외된 공휴일/커스텀 휴일</h4>
                <div class="chip-row" id="holidayList"></div>
              </div>
            </div>
            <div class="weekday-stats" id="weekdayStats"></div>
          </div>
        </details>
      </section>

      <section id="offset" class="tab-panel" role="tabpanel">
        <div class="form-grid">
          <label>
            <span>기준일 (Date Base)</span>
            <input type="date" id="baseDate" />
          </label>
          <label>
            <span>이동할 근무일 수 (N)</span>
            <input type="number" id="offsetDays" value="5" />
          </label>
        </div>
        <div class="options-grid">
          <label class="checkbox">
            <input type="checkbox" id="includeSaturdayOffset" />
            <span>토요일 포함</span>
          </label>
          <label class="checkbox">
            <input type="checkbox" id="excludeHolidaysOffset" checked />
            <span>한국 공휴일 제외</span>
          </label>
        </div>
        <div class="custom-holiday">
          <label for="customHolidaysOffset">사용자 지정 휴일 (콤마 또는 줄바꿈으로 구분)</label>
          <textarea id="customHolidaysOffset" rows="2" placeholder="예: 2024-12-24, 2025-01-02"></textarea>
          <p class="hint">이동 계산 시 적용됩니다.</p>
        </div>
        <div class="actions">
          <button class="primary" id="calculateOffset">도달 날짜 계산</button>
        </div>
        <div id="offsetError" class="error" role="alert"></div>

        <div class="summary" id="offsetSummary" hidden>
          <h3>결과 요약</h3>
          <p class="result-date"><span id="offsetResult">-</span></p>
          <p class="hint" id="offsetTrace"></p>
        </div>
      </section>
    </section>

    <section class="info">
      <h2>계산 기준 안내</h2>
      <ul>
        <li>근무일은 기본적으로 월~금이며, 옵션으로 토요일을 포함할 수 있습니다.</li>
        <li>공휴일 제외를 선택하면 한국 공휴일과 사용자가 지정한 휴일을 모두 제외합니다.</li>
        <li>모든 계산은 브라우저 내에서 수행되며 서버로 어떠한 데이터도 전송하지 않습니다.</li>
        <li>계산 속도 목표: 1~50ms 내 결과 제공 (브라우저 성능에 따라 달라질 수 있습니다).</li>
      </ul>
    </section>
  </main>

  <footer class="footer">
    <p>근무일 계산기 · 한국 기준 영업일 계산 · 정적 웹 페이지</p>
    <p class="muted">한국 공휴일 데이터는 연도별로 관리되며 필요 시 추가 입력이 가능합니다.</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
